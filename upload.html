<html style="font-family: sans-serif;">
<head>
<title>Upload Mount Video</title>
<link rel="icon" href="icon.png"></link>
<script>
var Airtable = require('airtable');
Airtable.configure({
    endpointUrl: 'https://api.airtable.com',
    apiKey: 'keyUFwBQV1t116g63'
});
var base = Airtable.base('appjQMWuxo1wjYlFp');
</script>
</head>
<body>
<div style="position: absolute; height: 100%; width: 60px; top: 0px; left: 0px; background-color: white; box-shadow: 0px 3px 5px lightgrey;"></div>

<div style="position: absolute; height: 60px; width: 100%; top: 0px; left: 0px; background-color: white; box-shadow: 0px 3px 5px lightgrey;"><a href="index.html"><img src="icon.png" style="position: absolute; top: -9px; height: 80px; width: 80px;"></img><h3 style="position: absolute; left: 80px; top: 4px; color: blue;">Mount Video</h3></a></div>

<p style="position: absolute; top: 45%; left: 50%;">Upload Video</p>
<input type="file" id="uploadvideo" style="position: absolute; top: 50%; left: 50%;" accept="video/*">
<p style="position: absolute; top: 55%; left: 50%;">Upload Thumbnail</p>
<input type="file" id="uploadthumbnail" style="position: absolute; top: 60%; left: 50%;" accept="image/*">

<div style="height: 3px; width: 0%; position: absolute;  top: 62px; left: 62px; background-color: blue;" id="LoadBar"></div>
<script>

var i = 0;
var timer = setInterval(loadprogressbar, 10);
function loadprogressbar() {
i++;
if(i > 95) {
clearInterval(timer);
i = 0;
document.getElementById("LoadBar").hidden = true;
}
if(i == 40) {
clearInterval(timer);
i = 40;
setTimeout(function() {timer = setInterval(loadprogressbar, 0)}, 500);
}
document.getElementById("LoadBar").style.width = i + "%";
}

</script>
<script>
/*
document.onreadystatechange = function () {
            if (document.readyState === "complete") {
                console.log(document.readyState);
                document.getElementById("LoadBar").style.display = "none";
            }
        }

*/
</script>
<script>
function uploadmedia(id) {
const file2 = document.getElementById(id).files[0];

    // encode the file using the FileReader API
    const reader2 = new FileReader();
    reader2.onloadend = () => {
      // log to console
      // logs data:<type>;base64,wL2dvYWwgbW9yZ...
      console.log(reader2.result);
	  console.log(reader2.readAsDataURL(file2));
	  };
	  document.execCommand("insertImage", false, reader2.result);
	  console.log("file insert complete");
}
var Airtable = require('airtable');
var base = new Airtable({apiKey: 'keyUFwBQV1t116g63'}).base('appjQMWuxo1wjYlFp');

base('Mount Video').create([
  {
    "fields": {
      "Title": "Test",
      "Description": "**Test**\n",
	  "Video": 
    }
  }
], function(err, records) {
  if (err) {
    console.error(err);
    return;
  }
  records.forEach(function (record) {
    console.log(record.getId());
  });
});
</script>
</body>
</html>